<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<ui:composition template="../../template/professor.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="content">
        <b:container class="bg-white" style="padding: 15px;">
            <b:form>
                <b:selectOneMenu value="#{criarQuestaoController.questao.tipo}">
                    <f:converter converterId="converter.tipoquestao" />
                    <f:selectItems value="#{criarQuestaoController.getTipos()}"
                                   var="tipo" itemValue="#{tipo}" />
                </b:selectOneMenu>
                                 
                <b:commandButton value="Salvar" look="success" class="float-right"
                                 action="#{criarQuestaoController.salvar()}" />
                
                <h3 class="form-header">Nova Questão:</h3>

                <!-- enunciado -->
                <b:inputTextarea label="Enunciado" id="enunciado" rows="3"
                                 required="true" requiredMessage="Enunciado obrigatório."
                                 value="#{criarQuestaoController.questao.enunciado}" />
                <b:message for="enunciado" />
            
                <!-- alternativas -->
                <table class="vertical-center">
                    <ui:repeat value="#{criarQuestaoController.questao.alternativas}"
                               var="alternativa">
                        <tr>
                            <td style="max-width: 20px;">
                                <b:selectBooleanCheckbox value="#{alternativa.correta}"/>
                            </td>

                            <td style="width: 100%; padding-left: 20px;">
                                <b:inputText value="#{alternativa.texto}"/>
                            </td>

                            <td style="padding-left: 20px;">
                                <b:commandButton value="X" look="danger" size="sm"
                                    action="#{criarQuestaoController
                                              .removerAlternativa(alternativa)}"
                                />
                            </td>
                        </tr>
                    </ui:repeat>
                </table>
                
                <h:outputText id="info" binding="#{criarQuestaoController.info}" />
                <b:message for="info" span="10"/>
                
                <b:commandButton value="Adicionar alternativa" class="float-right"
                                 action="#{criarQuestaoController.novaAlternativa()}"/>
                
            </b:form>
        </b:container>

    </ui:define>
</ui:composition>